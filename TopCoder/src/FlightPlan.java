import java.util.*;
import java.util.regex.*;
import java.text.*;
import java.math.*;


public class FlightPlan
{
	public long fly(int R, int C, int[] H, int cup, int cdn, int clr)
	{
		for (int i = 0; i < 2500; i++) {
			System.out.print((int)(Math.random()*1000000) + ",");
		}
		System.out.println();
		int[][] h = new int[R][C];
		for (int r = 0; r < R; r++)
			for (int c = 0; c < C; c++) {
				h[r][c] = H[r*C+c];
			}
		
		// Find max height in best path
		int maxh = h[0][0];
		for (int r = 0; r < R; r++)
			for (int c = 0; c < C; c++) {
				maxh = Math.max(maxh, h[r][c]);
			}
		
		long dist = R + C - 2;
		long cost = 1L * (maxh - h[0][0]) * cup + 1L * (maxh - h[R-1][C-1]) * cdn;
		cost += (dist * clr);
		return cost;
	}
	
	// BEGIN KAWIGIEDIT TESTING
	// Generated by KawigiEdit 2.1.4 (beta) modified by pivanof
	private static boolean KawigiEdit_RunTest(int testNum, int p0, int p1, int[] p2, int p3, int p4, int p5, boolean hasAnswer, long p6) {
		System.out.print("Test " + testNum + ": [" + p0 + "," + p1 + "," + "{");
		for (int i = 0; p2.length > i; ++i) {
			if (i > 0) {
				System.out.print(",");
			}
			System.out.print(p2[i]);
		}
		System.out.print("}" + "," + p3 + "," + p4 + "," + p5);
		System.out.println("]");
		FlightPlan obj;
		long answer;
		obj = new FlightPlan();
		long startTime = System.currentTimeMillis();
		answer = obj.fly(p0, p1, p2, p3, p4, p5);
		long endTime = System.currentTimeMillis();
		boolean res;
		res = true;
		System.out.println("Time: " + (endTime - startTime) / 1000.0 + " seconds");
		if (hasAnswer) {
			System.out.println("Desired answer:");
			System.out.println("\t" + p6);
		}
		System.out.println("Your answer:");
		System.out.println("\t" + answer);
		if (hasAnswer) {
			res = answer == p6;
		}
		if (!res) {
			System.out.println("DOESN'T MATCH!!!!");
		} else if ((endTime - startTime) / 1000.0 >= 2) {
			System.out.println("FAIL the timeout");
			res = false;
		} else if (hasAnswer) {
			System.out.println("Match :-)");
		} else {
			System.out.println("OK, but is it right?");
		}
		System.out.println("");
		return res;
	}
	public static void main(String[] args) {
		boolean all_right;
		all_right = true;
		
		int p0;
		int p1;
		int[] p2;
		int p3;
		int p4;
		int p5;
		long p6;
		
		// ----- test 0 -----
		p0 = 1;
		p1 = 5;
		p2 = new int[]{10,8,6,8,10};
		p3 = 40;
		p4 = 10;
		p5 = 20;
		p6 = 80L;
		all_right = KawigiEdit_RunTest(0, p0, p1, p2, p3, p4, p5, true, p6) && all_right;
		// ------------------
		
		// ----- test 1 -----
		p0 = 6;
		p1 = 1;
		p2 = new int[]{10,8,16,18,8,12};
		p3 = 40;
		p4 = 10;
		p5 = 20;
		p6 = 480L;
		all_right = KawigiEdit_RunTest(1, p0, p1, p2, p3, p4, p5, true, p6) && all_right;
		// ------------------
		
		// ----- test 2 -----
		p0 = 5;
		p1 = 5;
		p2 = new int[]{100,1000,100,100,100,97,9999,9999,9999,100,93,9999,0,9999,100,99,9999,83,65,100,98,93,90,9999,95};
		p3 = 1000;
		p4 = 1000;
		p5 = 1;
		p6 = 5010L;
		all_right = KawigiEdit_RunTest(2, p0, p1, p2, p3, p4, p5, true, p6) && all_right;
		// ------------------
		
		// ----- test 3 -----
		p0 = 5;
		p1 = 5;
		p2 = new int[]{100,1000,100,100,100,97,9999,9999,9999,100,93,9999,0,9999,100,99,9999,83,65,100,98,93,90,9999,95};
		p3 = 1;
		p4 = 1;
		p5 = 1000;
		p6 = 9805L;
		all_right = KawigiEdit_RunTest(3, p0, p1, p2, p3, p4, p5, true, p6) && all_right;
		// ------------------
		
		// ----- test 4 -----
		p0 = 1;
		p1 = 1;
		p2 = new int[]{47};
		p3 = 123;
		p4 = 234;
		p5 = 345;
		p6 = 0L;
		all_right = KawigiEdit_RunTest(4, p0, p1, p2, p3, p4, p5, true, p6) && all_right;
		// ------------------
		
		// ----- test 4 -----
		p0 = 50;
		p1 = 50;
		p2 = new int[]{264338,137777,991436,889941,649242,406568,250294,969617,994140,863972,294207,40806,545350,755751,579068,443923,697364,783362,660309,954669,902497,5202,211428,839157,773578,189180,804412,380028,365303,310479,637405,786666,89609,709684,130287,114552,971396,278976,325472,61938,983151,927895,329037,286462,10514,495202,606450,189975,595535,219658,807463,956758,980362,860097,936378,998489,131325,563928,106729,858724,361853,623270,823511,60315,892382,329193,721480,341110,186411,237083,954593,216452,184059,289943,979562,831382,617978,411476,305566,621142,441190,377080,892513,385473,22392,998443,271879,379,171517,916186,136967,140418,246782,585069,103537,65279,564220,357550,577143,736290,81641,924022,180055,271684,861201,751859,988560,23846,128242,580422,910481,367446,838784,475472,893147,624276,544032,423987,293626,418752,997481,959156,665889,157482,388684,845353,423677,256946,307481,424222,323190,205269,543444,825489,476331,537203,607531,879950,653074,325876,426443,237106,960624,850509,4839,886200,597421,686238,976624,6963,271594,580314,873681,835146,46359,128395,628937,17986,828947,445292,300359,756003,454985,736447,253468,880096,336878,919596,72160,896681,942574,220466,281145,948656,950202,972030,557978,586259,784424,683771,488696,219447,381950,815528,78259,132183,456496,589970,165490,979076,237596,608356,611919,756111,643005,996176,634943,339721,111051,298446,937893,822286,867123,368803,353128,37119,227609,52259,558968,862366,654938,548350,57252,120707,668970,959590,5570,150604,392847,679578,686650,414822,465521,955718,367139,833290,288507,173488,48970,879861,91023,152308,148769,866359,95540,17499,454178,252311,144848,18475,800757,265069,512107,242,789060,592557,256947,103410,518722,419664,413544,667376,754877,619369,500682,241976,161946,480917,329187,74818,240808,959982,848691,434687,387602,69465,823564,655813,55871,694668,456939,843463,348514,812847,692098,768234,491944,824703,812114,594581,552117,464137,131474,738534,440565,542656,27513,330222,728259,606096,294848,468734,36164,433873,822596,700013,803516,194737,892020,922881,48370,988097,971335,233990,329668,446208,744765,59357,496067,50103,254548,288363,963990,820914,457440,25460,205840,88271,201340,5516,849028,108766,613062,680661,287483,409993,154834,479617,989490,869475,154980,764942,749209,702829,447337,569280,973945,731793,864315,278611,725226,530310,720093,48655,638945,305607,93324,890027,38340,661301,672791,38367,523266,710797,164837,437610,70235,361828,777973,907710,209891,976754,97928,842560,162080,28269,745506,89496,903410,816479,569971,998697,18138,790828,772268,498972,840498,529153,275255,455802,835013,966185,862215,498208,381100,35096,90278,962900,129207,488241,751964,597357,878014,297022,705925,187860,485630,695852,227078,334209,672506,631479,636637,179739,699731,106464,864185,23424,813611,664410,766767,390270,35899,54562,484090,316870,348797,934708,844252,320892,574789,323820,851055,766455,283628,399699,581774,111743,872242,151886,403381,830880,558090,346443,275559,639013,402431,236679,50458,17690,637237,462763,101970,937059,507921,623126,321442,102061,563813,71913,502051,11708,829266,599234,400708,613711,570504,784784,314181,361123,436827,980413,835242,33335,599474,73559,564993,770670,137452,410937,949124,389995,326856,520723,78710,198172,678677,561476,250258,200845,539829,747334,315059,815963,823103,351583,364511,944613,963963,274452,95922,526147,515615,576053,282409,510241,888466,821658,130866,515469,616086,564060,953551,312089,187014,796533,501732,666209,920225,749969,513898,13113,581788,979034,516415,889489,441239,284747,681093,47415,248411,654660,592004,697423,174942,66861,102960,383584,109406,700313,77442,580497,820988,821577,694356,220221,413861,376761,175848,6593,182875,107569,247512,555062,450936,831620,376673,108060,219373,379744,851036,819105,494879,566744,57833,373249,970038,487175,902718,17143,329205,373939,167985,908899,827473,235078,751316,66114,947693,492911,149098,89800,878978,889703,252451,272673,279860,995344,509473,662123,290253,755073,773791,141387,38562,649023,707375,616836,953819,200470,434667,954969,37387,765899,255425,399605,874797,767564,615286,817947,575490,788019,205915,273586,16710,236105,20684,105187,737530,615203,427200,901522,579966,777073,834593,506657,706358,928399,331321,463537,935674,572207,748364,109860,436125,12601,963018,877052,687449,528799,900107,211327,283453,833255,610288,935208,583869,968677,9209,798580,444333,370043,346649,430223,254228,420272,241372,893978,294407,461963,165251,578074,990255,892688,589353,201840,980283,667603,615014,310918,46443,260661,804528,750265,859545,894527,98930,253656,181660,639332,164470,469040,637118,801658,244690,451043,414671,877736,611670,895056,295631,228589,7798,161761,216264,549903,48580,446633,167451,155713,417320,285843,610602,72493,824112,958159,746030,949080,124436,241877,908481,827852,696769,416445,84228,893894,163933,360377,45132,421424,809553,90219,877270,270543,588812,109734,745246,452387,461808,494140,577989,477089,888164,721156,987851,426457,713156,878761,142012,952099,348453,29004,493718,689737,104683,187840,250547,901749,768388,592922,207945,512538,32526,674393,108426,85080,187526,418177,375,702067,559029,616915,165063,161344,538756,840603,56503,372884,696602,827163,355974,353311,384837,392577,681530,754053,449472,890910,712533,430475,149135,716406,490226,161876,148448,333076,437598,266048,500717,841547,205243,517114,863878,148644,794682,471645,803959,392075,536551,35625,931953,390765,408316,863583,792827,540778,864642,971292,879501,757459,823259,764681,879983,776311,700167,540180,282442,368318,420222,395487,760870,799804,142651,404799,343050,172621,35743,858817,222945,117332,810955,347403,221185,680259,883895,471529,320200,144649,968127,11215,404648,956887,627454,447432,323135,890605,813319,838493,653816,74695,696211,185234,104346,535633,163397,584340,305711,460221,200066,665441,869866,471728,996932,35167,972662,830602,34564,710109,396438,620326,583204,810708,920720,659667,26537,109351,184855,94465,168886,378504,662971,365287,217494,868520,189541,521672,445063,659754,552913,659381,632432,79959,34512,593944,267245,855438,413051,751990,131713,173228,875894,661258,351019,371634,483868,350818,193662,547722,321130,435004,916012,972908,228317,647654,725553,841577,65055,117742,500809,542710,777008,733075,250626,340772,152982,525706,421492,79667,49235,130841,68803,282342,30955,20441,596440,808682,834999,393387,238755,55592,793332,315996,710070,535747,373187,949814,478966,555234,287853,478070,938158,625381,211063,647789,335472,190346,988341,681520,707393,229581,380227,680766,213911,303057,795204,542640,211842,647219,174193,841921,123550,870,173886,92606,658954,942773,62753,296215,230942,656524,291428,708514,467786,203293,528274,312000,570876,579310,61287,568392,892085,62538,859084,643548,512264,611731,256587,446616,790899,371146,185114,505944,826631,655430,101933,916116,519361,141788,290938,333719,456862,380282,3968,273796,162310,148181,991377,764650,333862,620560,330818,755559,583403,806878,104822,540117,838782,212076,400575,857355,12372,220742,309426,263436,758473,274213,88990,828648,143089,513006,417328,207571,831819,190746,716520,654722,965081,830835,852067,613627,234612,793356,124891,94212,801174,647274,364330,171530,600614,501758,103330,588291,273897,240521,271206,624309,426475,424330,574621,107895,173318,479399,754091,687381,958154,673162,201151,255411,448969,293955,407,724235,906505,397432,321090,187225,798508,460084,224281,869943,589680,289002,374866,173535,575775,577083,851359,543883,350006,564157,232095,861843,990905,367047,402889,543097,342999,675382,79114,560523,825154,675002,864247,157677,46157,257088,777287,108881,133081,798701,573053,999591,85207,59189,852218,150103,654761,26964,912032,486360,225439,872446,524054,873503,910671,515494,341789,170985,625812,699469,439014,542485,201913,879050,558635,359527,703459,675298,12307,374599,988428,128907,812634,707763,206270,491462,542599,590137,367854,834489,671027,738306,341192,327419,508174,695634,627688,638099,762182,469600,55920,543294,704968,318713,93413,501638,285230,598208,821616,637810,136596,160658,745233,314223,320543,925779,514331,225323,816571,883137,326084,739620,226216,972122,242767,35873,892833,995469,913571,432384,655694,965771,220054,192143,754771,58847,178496,1617,981720,653471,27187,267245,32878,773928,802615,351261,161743,619967,865778,877240,651206,768187,778303,275814,329954,59525,647789,812282,342771,149443,562767,440387,651100,190570,19893,960314,288062,141969,309470,124009,221232,754868,670122,527204,786824,371593,649418,355076,50551,292638,514463,307244,123249,616178,744973,317869,413495,135022,611045,7897,34754,87920,588841,159018,101240,305291,899598,882721,444485,563838,770898,572852,361750,770229,113805,176364,367716,930877,185502,794517,562557,733064,464241,135532,152285,962037,401954,879777,861405,909386,939524,589846,463244,389920,670768,400403,419931,977428,323354,356496,671855,594107,788387,934056,945524,644141,275090,972582,559107,468775,293029,977578,596534,18455,71513,509068,493899,286955,714298,162578,535975,233137,857454,470241,496056,627843,849221,902241,668884,506650,502910,32588,844321,683559,287376,848252,348491,86422,414337,126997,139491,511775,657756,786750,86358,764932,897759,118188,982844,50611,320030,852208,551637,910011,921341,85273,680025,962197,472861,188155,394613,200777,375113,957365,630530,621326,901928,433646,679681,510601,175461,8131,312961,815588,840320,664375,962913,628510,812080,463197,26204,973398,663945,667352,299375,760446,185013,224320,796671,986324,394624,678041,715355,1761,829453,964221,111791,942120,233515,958865,930638,222389,875960,95989,389880,334870,597528,847992,366013,56069,343739,370971,346555,568654,381391,157297,721145,935048,614651,109043,667861,821130,418012,48422,657979,361655,185600,315168,650242,583460,359809,765817,374829,858160,46960,186164,717536,442955,453650,855694,106314,286333,284697,761564,975135,924883,932062,749782,834282,478078,753836,722489,211476,459807,993382,842799,744903,368595,920941,592447,7010,792893,593474,442535,217063,73428,223255,843937,860816,401576,521701,221478,377224,600844,542153,664801,495002,737985,483787,48850,505918,140921,638582,388197,747071,362560,164234,332000,831009,122777,648123,840122,710376,285229,490949,246034,492899,481320,983340,108376,32861,80593,574737,480594,716824,824942,241083,486887,534203,593483,46314,382697,477396,445565,962379,599293,551542,301336,763499,624537,190552,362431,342586,955687,673942,649760,111242,775159,218067,841054,239458,446441,775738,927721,367140,404901,219777,78742,76781,527006,508933,498747,855107,601529,638683,998079,491230,97595,664789,454551,859832,26953,854080,339796,820110,331665,64789,7490,524716,893436,787875,496418,777633,957085,891098,188257,205909,488214,999242,778105,917395,743919,616703,665222,5127,125410,552785,52087,728690,202716,945383,751813,453897,654174,195345,947102,464347,747210,421650,918361,571881,901929,626628,64243,47712,825353,620842,374803,771946,681659,898792,885622,656467,772573,79505,540654,334629,242114,230159,322247,830908,391160,376222,468651,424660,289862,768218,92542,204364,509707,23064,538482,872181,962085,87042,372882,203402,26488,77788,986997,191348,379023,454323,411582,315473,190695,636971,91318,558944,654975,153132,47727,771660,125431,620207,71241,725672,496767,393600,326251,742182,846378,505549,27349,82783,768590,599655,650686,392312,280028,926331,481235,356698,652105,105973,164959,396363,35398,289541,334243,654272,280741,550307,305678,757395,933129,825894,311134,831364,977078,496342,716281,30313,545880,731759,205081,407367,472218,72242,964478,295990,253911,313107,490402,498347,736070,660033,754378,484096,569783,291628,119440,491470,297428,920985,574716,892270,736054,683166,569979,433336,182772,692154,974577,999299,849904,908652,459636,354914,852685,539232,908035,919960,18574,47662,293596,5712,764798,861,839100,99184,299536,394777,162125,719842,442163,809575,548397,93190,429306,728896,454254,386640,175969,624522,832958,535255,594784,955656,904048,748497,741497,61118,540559,633767,751055,33109,535855,498556,756237,52797,629994,800227,239536,340834,324951,900925,559046,830009,198691,254847,710389,902607,639989,906075,739282,51619,669087,707403,603093,122825,783645,984069,694806,873873,575158,461011,689098,946800,197882,148286,847753,992079,640512,536456,430451,605108,150231,892284,396992,940156,89459,664757,158309,352141,967494,12474,736171,183223,382452,245615,325245,859014,133280,539249,916258,788366,817318,619387,335250,170982,815777,249233,781484,708751,687672,250267,705342,389536,642166,481293,657590,966234,939934,668306,562680,489320,786087,228993,721288,267626,520343,267949,731098,930032,684558,732118,429845,839771,853385,310726,910965,973466,950756,39949,639690,518585,143029,729764,706264,865845,299069,268933,292951,377230,438192,583779,502820,295610,548816,527401,800838,428556,653825,258190,451556,786816,23058,730000,502760,186985,989036,761031,60703,938292,908883,774492,830103,124988,433653,711300,150870,668718,395594,803573,53560,309306,304632,867407,176860,877787,657193,524366,742921,752081,3716,293389,170168,183587,995567,808258,318243,262044,437759,510520,806037,646388,710796,43716,321284,830922,793106,232008,349007,638960,514965,964764,286127,840221,605451,528404,480838,273600,555911,927750,337892,623532,316568,521400,264732,46020,367300,859078,898438,169530,759331,953661,749748,606239,311430,346559,127967,813,262420,232348,969323,816655,331195,597027,981441,513737,316121,794003,337805,507436,77581,232891,8707,314410,990635,888423,698897,589405,729127,150262,277240,335991,548289,129213,529932,434549,69748,911333,46416,772468,941069,408644,55868,684337,641321,393641,72218,114041,134866,24499,276925,895982,37449,668897,671275,819305,451856,116540,163762,686811,654806,334015,923150,409355,372412,760267,524098,286905,468465,767013,639777,18988,487951,315621,294691,660154,647625,30432,980956,690153,546139,878287,262578,603889,78130,394933,844813,942810,779832,931253,469478,487250,108201,705733,412125,408340,961194,544280,803269,538440,83775,64528,473424,560683,872361,718944,530446,841026,489861,549564,417784,830345,134095,726899,773459,449441,764329,946511,12194,636430,583798,539027,186853,283845,100515,712793,350429,121871,644323,693120,336090,714501,805077,648046,600317,626986,374970,197760,532993,995814,27487,993328,428314,186549,146073,320045,131683,960211,927571,931778,230301,585503,128602,354826,538948,631988,597512,713346,547488,758494,40158,723101,442921,671307,304704,876264,296349,568365,838798,997237,13998,808485,871882,287927,691495,248777,306070,700654,81883,678733,260928,977808,990377,46107,710682,979652,542684,717508,676748,985097,438734,845790,994201,495023,499943,26620,757646,693703,45701,818240,170194,131097,893535,371271,668583,377270,67462,369531,878214,369907,620314,718161,163742,926885,328375,931981,284042,428088,400440,974833,934795,984105,758466,379787,767578,504210,893260,840403,811280,951987,776190,104894,89811,734165,816688,927838,629503,606760,395386,38222,980249,702282,73955,567934,836354,282799,185316,151432,336229,605831,141656,955157,144465,853562,462695,224377,475516,420554,223000,545487,805094,981140,344623,913390,133584,664898,920155,866446,315162,357079,541332,405576,147001,610592,429606,149442,624831,907130,17633,194257,14308,37236,514434,444601,162043,182591,901997,760730,775815,878547,757415,128237,240416,410873,272149,197484,903705,357931,848842,963119,666915,927982,696102,58056,143866,461020,912996,121687,615693,965541,657527,968650,500843,842851,127141,832377,84507,15027,244368,786703,807330,517325,136983,559209,500136,241871,729609,341539,569599,926614,22475,874801,289173,672086,923094,42273,30275,238164,817880,436950,480634,124062,423315,888120,639865,966962,840007,728955,656761,108211,148069,666262,378443,270706,328513,473824,818438,167084,772887,372437,618903,515549,152193,882527,981634,378653,956149,139397,473181,960071,585144,146454,571259,995386,479788,208402,812859,655125,406731,834226,928854,441779,684484,728889,405542,907226,829241,103023,500525,143016,828263,421496,858439,903133,7153,884583,521510,907389,247405,389578,310528,343279,131902,456027,263799,835149,448555,614375,64732,181710,366080,55662,163214,976449,510967,919000,601499,820185,120937,453936,392343,211014,427767,436384,665196,354094,431131,639672,695748,72222,265146,866352,364732,717855,430603,31766,553846,488230,268399,56975,479796,827438,183490,876488,991868,662810,293697,695360,414141,67677,374001,740547,600309,568555,194523,143032,487301,722030,609126,260078,583265,775100,41658,701062,506153,192434,338126,555705,901077,585030,305628,840105,807738,106920,642672,973838,823676,700115,380526,180492,214734,662638,401570,64353,461040,890538,78110,257546,594998,801951,583958,954828,87166,389775,971075,357269,966578,69260,674888,531474,323978,987767,714426,957555,339603,246198,487205,86923,501550,45063,723836,560096,736452,112877,863616,345032,761075,900573,839905,948126,81625,932815,22870,22859,716979,395594,857234,155164,902693,509220,553944,339965,744575,486763,47205,679911,33766,910282,312147,135196,209684,170596,53382,732461,762862,211123,721049,501107,206607,192268,788441,546976,114590,850068,234131,96180,620872,261289,211527,45987,209559,446890,960083,544997,583157};
		p3 = 999999;
		p4 = 1000000;
		p5 = 543210;
		p6 = 797129676632L;
		all_right = KawigiEdit_RunTest(4, p0, p1, p2, p3, p4, p5, true, p6) && all_right;
		// ------------------
		
		
		
		if (all_right) {
			System.out.println("You're a stud (at least on the example cases)!");
		} else {
			System.out.println("Some of the test cases had errors.");
		}
	}
	// END KAWIGIEDIT TESTING
}
//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!
