package topcoder;
import java.util.*;
//import java.util.regex.*;
//import java.text.*;
//import java.math.*;


public class TCO2014_R1A_L2_EllysScrabble
{
	public String getMin(String letters, int maxDistance)
	{
		String s = "";
		int n = letters.length();
		boolean[] used = new boolean[n];
		String nsub = letters.substring(0, Math.min(n,maxDistance));
		for (int i = 0; i < n; i++)
		{
			int x = i + maxDistance;
			if (x < n) nsub += letters.charAt(x);
			char[] ss = nsub.toCharArray();
			Arrays.sort(ss);
			int ind = -1;
			for (int j = 0; j < ss.length; j++)
			{
				for (int k = 0; k < Math.min(x,n); k++)
					if (letters.charAt(k) == ss[j] && !used[k] && (i-k==maxDistance))
					{ 
						ind = j; used[k] = true; break; 
					}
				if (ind > -1) break;
			}
			if (ind == -1) 
			{
				ind = 0;
				for (int j = 0; j < letters.length(); j++)
					if (letters.charAt(j) == ss[0] && !used[j])
					{	
						used[j] = true; break;
					}
			}
			s += ss[ind];
			nsub = "";
			for (int j = 0; j < ss.length; j++)
				if (j != ind) nsub += ss[j];
		}
		return s;
	}
	
	// BEGIN KAWIGIEDIT TESTING
	// Generated by KawigiEdit 2.1.4 (beta) modified by pivanof
	private static boolean KawigiEdit_RunTest(int testNum, String p0, int p1, boolean hasAnswer, String p2) {
		System.out.print("Test " + testNum + ": [" + "\"" + p0 + "\"" + "," + p1);
		System.out.println("]");
		TCO2014_R1A_L2_EllysScrabble obj;
		String answer;
		obj = new TCO2014_R1A_L2_EllysScrabble();
		long startTime = System.currentTimeMillis();
		answer = obj.getMin(p0, p1);
		long endTime = System.currentTimeMillis();
		boolean res;
		res = true;
		System.out.println("Time: " + (endTime - startTime) / 1000.0 + " seconds");
		if (hasAnswer) {
			System.out.println("Desired answer:");
			System.out.println("\t" + "\"" + p2 + "\"");
		}
		System.out.println("Your answer:");
		System.out.println("\t" + "\"" + answer + "\"");
		if (hasAnswer) {
			res = answer.equals(p2);
		}
		if (!res) {
			System.out.println("DOESN'T MATCH!!!!");
		} else if ((endTime - startTime) / 1000.0 >= 2) {
			System.out.println("FAIL the timeout");
			res = false;
		} else if (hasAnswer) {
			System.out.println("Match :-)");
		} else {
			System.out.println("OK, but is it right?");
		}
		System.out.println("");
		return res;
	}
	public static void main(String[] args) {
		boolean all_right;
		all_right = true;
		
		String p0;
		int p1;
		String p2;
		
		// ----- test 5 -----
		p0 = "AAAWDIUAOIWDESBEAIWODJAWDBPOAWDUISAWDOOPAWD";
		p1 = 6;
		p2 = "AAAADDEIBWAEUIODWADSBIAJWODIAWDOPOAWDUOSPWW";
		all_right = KawigiEdit_RunTest(5, p0, p1, true, p2) && all_right;
		// ------------------
		
		
		// ----- test 0 -----
		p0 = "TOPCODER";
		p1 = 3;
		p2 = "CODTEPOR";
		all_right = KawigiEdit_RunTest(0, p0, p1, true, p2) && all_right;
		// ------------------
		
		// ----- test 1 -----
		p0 = "ESPRIT";
		p1 = 3;
		p2 = "EIPRST";
		all_right = KawigiEdit_RunTest(1, p0, p1, true, p2) && all_right;
		// ------------------
		
		// ----- test 2 -----
		p0 = "BAZINGA";
		p1 = 8;
		p2 = "AABGINZ";
		all_right = KawigiEdit_RunTest(2, p0, p1, true, p2) && all_right;
		// ------------------
		
		// ----- test 3 -----
		p0 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
		p1 = 9;
		p2 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
		all_right = KawigiEdit_RunTest(3, p0, p1, true, p2) && all_right;
		// ------------------
		
		// ----- test 4 -----
		p0 = "GOODLUCKANDHAVEFUN";
		p1 = 7;
		p2 = "CADDGAHEOOFLUKNNUV";
		all_right = KawigiEdit_RunTest(4, p0, p1, true, p2) && all_right;
		// ------------------
		
		// ----- test 5 -----
		p0 = "AAAWDIUAOIWDESBEAIWODJAWDBPOAWDUISAWDOOPAWD";
		p1 = 6;
		p2 = "AAAADDEIBWAEUIODWADSBIAJWODIAWDOPOAWDUOSPWW";
		all_right = KawigiEdit_RunTest(5, p0, p1, true, p2) && all_right;
		// ------------------
		
		// ----- test 6 -----
		p0 = "ABRACADABRA";
		p1 = 2;
		p2 = "AABARACBDAR";
		all_right = KawigiEdit_RunTest(6, p0, p1, true, p2) && all_right;
		// ------------------
		
		if (all_right) {
			System.out.println("You're a stud (at least on the example cases)!");
		} else {
			System.out.println("Some of the test cases had errors.");
		}
	}
	// END KAWIGIEDIT TESTING
}
//Powered by KawigiEdit 2.1.4 (beta) modified by pivanof!
